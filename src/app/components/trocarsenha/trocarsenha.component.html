<div class="senha-container">
  <div class="senha-card">
    <h2 class="text-center">Troque sua senha</h2>
    <p class="text-center mb-4">Este é seu primeiro acesso. Por favor, defina uma nova senha.</p>
    
    <form [formGroup]="senhaForm" (ngSubmit)="onSubmit()">
      <div class="form-group mb-3">
        <label for="novaSenha">Nova Senha</label>
        <input type="password" id="novaSenha" class="form-control" formControlName="novaSenha"
               [ngClass]="{ 'is-invalid': submitted && f['novaSenha'].errors }">
        <div *ngIf="submitted && f['novaSenha'].errors" class="invalid-feedback">
          <div *ngIf="f['novaSenha'].errors['required']">Nova senha é obrigatória</div>
          <div *ngIf="f['novaSenha'].errors['minlength']">A senha deve ter pelo menos 6 caracteres</div>
        </div>
      </div>
      
      <div class="form-group mb-3">
        <label for="confirmarSenha">Confirmar Senha</label>
        <input type="password" id="confirmarSenha" class="form-control" formControlName="confirmarSenha"
               [ngClass]="{ 'is-invalid': submitted && (f['confirmarSenha'].errors || senhaForm.hasError('notMatching')) }">
        <div *ngIf="submitted && (f['confirmarSenha'].errors || senhaForm.hasError('notMatching'))" class="invalid-feedback">
          <div *ngIf="f['confirmarSenha'].errors?.['required']">Confirmação de senha é obrigatória</div>
          <div *ngIf="senhaForm.hasError('notMatching')">As senhas não coincidem</div>
        </div>
      </div>
      
      <div class="form-group mt-4">
        <button [disabled]="loading" class="btn btn-primary w-100">
          <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
          Salvar Nova Senha
        </button>
      </div>
      
      <div *ngIf="error" class="alert alert-danger mt-3">{{error}}</div>
    </form>
  </div>
</div>